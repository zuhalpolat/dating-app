{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../lib/src/util.ts","../../../lib/src/timeago.clock.ts","../../../lib/src/timeago.intl.ts","../../../lib/src/timeago.formatter.ts","../../../lib/src/timeago.directive.ts","../../../lib/src/timeago.pipe.ts","../../../lib/src/timeago.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","isDefined","coerceBooleanProperty","dateParser","date","parsed","Date","Number","isNaN","valueOf","parts","String","match","length","_a","map","x","parseInt","firstP","secondP","restPs","slice","UTC","apply","arguments","concat","__spread","DAY","HOUR","TimeagoDefaultClock","_super","tick","then","of","pipe","expand","now","seconds","Math","round","abs","period","MINUTE","timer","empty","skip","TimeagoClock","Injectable","changes","Subject","defaultFormattter","suffix","unit","TimeagoDefaultFormatter","format","parse","TimeagoFormatter","TimeagoCustomFormatter","intl","_this","strings","week","weeks","normalize","normalizeFn","numbers","dateString","prefixAgo","prefixFromNow","stringFn","suffixAgo","suffixFromNow","wordSeparator","join","normalizeNumber","split","digit","millisDelta","stringOrFn","replace","TimeagoIntl","TimeagoDirective","cd","formatter","element","clock","stateChanges","_live","intlSubscription","subscribe","setContent","nativeElement","markForCheck","defineProperty","_date","SyntaxError","clockSubscription","unsubscribe","undefined","filter","live","ngOnChanges","node","content","textContent","data","ngOnDestroy","complete","Directive","args","selector","exportAs","decorators","type","Optional","ChangeDetectorRef","ElementRef","Input","TimeagoPipe","transform","_i","Pipe","name","pure","TimeagoModule","forRoot","config","ngModule","providers","provide","useClass","forChild","NgModule","declarations","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export function isDefined(value: any): boolean {\n  return typeof value !== 'undefined' && value !== null;\n}\n\nexport function coerceBooleanProperty(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n\nexport function dateParser(date: any): Date {\n  const parsed = new Date(date);\n  if (!Number.isNaN(parsed.valueOf())) {\n    return parsed;\n  }\n\n  const parts: string[] = String(date).match(/\\d+/g);\n  if (parts === null || parts.length <= 2) {\n    return parsed;\n  } else {\n    const [firstP, secondP, ...restPs] = parts.map(x => parseInt(x, 10));\n    return new Date(Date.UTC(firstP, secondP - 1, ...restPs));\n  }\n}\n\nexport const MINUTE = 60;\nexport const HOUR = MINUTE * 60;\nexport const DAY = HOUR * 24;\nexport const WEEK = DAY * 7;\nexport const MONTH = DAY * 30;\nexport const YEAR = DAY * 365;\n","import { Injectable } from '@angular/core';\nimport { Observable, of, empty, timer } from 'rxjs';\nimport { expand, skip } from 'rxjs/operators';\nimport { MINUTE, HOUR, DAY } from './util';\n\nexport abstract class TimeagoClock {\n  abstract tick(then: number): Observable<any>;\n}\n\n@Injectable()\nexport class TimeagoDefaultClock extends TimeagoClock {\n  tick(then: number): Observable<any> {\n    return of(0)\n      .pipe(\n        expand(() => {\n          const now = Date.now();\n          const seconds = Math.round(Math.abs(now - then) / 1000);\n\n          const period =\n            seconds < MINUTE\n              ? 1000\n              : seconds < HOUR\n                ? 1000 * MINUTE\n                : seconds < DAY\n                  ? 1000 * HOUR\n                  : 0;\n\n          return period ? timer(period) : empty();\n        }),\n        skip(1)\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { StringOrFn, NumberArray } from './timeago.formatter';\n\nexport interface IL10nsStrings {\n  prefixAgo?: StringOrFn;\n  prefixFromNow?: StringOrFn;\n  suffixAgo?: StringOrFn;\n  suffixFromNow?: StringOrFn;\n  second?: StringOrFn;\n  seconds?: StringOrFn;\n  minute?: StringOrFn;\n  minutes?: StringOrFn;\n  hour?: StringOrFn;\n  hours?: StringOrFn;\n  day?: StringOrFn;\n  days?: StringOrFn;\n  week?: StringOrFn;\n  weeks?: StringOrFn;\n  month?: StringOrFn;\n  months?: StringOrFn;\n  year?: StringOrFn;\n  years?: StringOrFn;\n  wordSeparator?: string;\n  numbers?: NumberArray;\n};\n\n/**\n * To modify the text displayed, create a new instance of TimeagoIntl and\n * include it in a custom provider\n */\n@Injectable()\nexport class TimeagoIntl {\n\n  strings: IL10nsStrings;\n\n  /**\n   * Stream that emits whenever the l10n strings are changed\n   * Use this to notify directives if the l10n strings have changed after initialization.\n   */\n  readonly changes: Subject<void> = new Subject<void>();\n}\n","import { Injectable } from '@angular/core';\nimport { TimeagoIntl } from './timeago.intl';\nimport { MINUTE, HOUR, DAY, WEEK, MONTH, YEAR } from './util';\n\nexport type Unit = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';\n\nexport type Suffix = 'ago' | 'from now';\n\nexport type StringOrFn = ((value: number, millisDelta:  number) => string) | string;\n\nexport type NumberArray = [ string, string, string, string, string, string, string, string, string, string ];\n\nconst defaultFormattter = function(then: number): {value: number, unit: Unit, suffix: Suffix} {\n  const now = Date.now();\n  const seconds = Math.round(Math.abs(now - then) / 1000);\n  const suffix: Suffix = then < now ? 'ago' : 'from now';\n\n  const [value, unit]: [number, Unit] =\n    seconds < MINUTE\n      ? [Math.round(seconds), 'second']\n      : seconds < HOUR\n        ? [Math.round(seconds / MINUTE), 'minute']\n        : seconds < DAY\n          ? [Math.round(seconds / HOUR), 'hour']\n          : seconds < WEEK\n            ? [Math.round(seconds / DAY), 'day']\n            : seconds < MONTH\n              ? [Math.round(seconds / WEEK), 'week']\n              : seconds < YEAR\n                ? [Math.round(seconds / MONTH), 'month']\n                : [Math.round(seconds / YEAR), 'year'];\n\n  return {value, unit, suffix};\n}\n\nexport abstract class TimeagoFormatter {\n  abstract format(then: number): string\n}\n\n@Injectable()\nexport class TimeagoDefaultFormatter extends TimeagoFormatter {\n  format(then: number): string {\n    const {suffix, value, unit} = defaultFormattter(then);\n    return this.parse(value, unit, suffix);\n  }\n\n  private parse(value: number, unit: Unit, suffix: Suffix): string {\n    if (value !== 1) {\n      unit += 's';\n    }\n    return value + ' ' + unit + ' ' + suffix;\n  }\n}\n\n@Injectable()\nexport class TimeagoCustomFormatter extends TimeagoFormatter {\n  constructor(private intl: TimeagoIntl) {\n    super();\n  }\n\n  format(then: number): string {\n    const {suffix, value, unit} = defaultFormattter(then);\n    return this.parse(value, unit, suffix, Date.now(), then);\n  }\n\n  private parse(value: number, unit: Unit, suffix: Suffix, now: number, then: number) {\n    /** convert weeks to days if strings don't handle weeks */\n    if (unit === 'week' && !this.intl.strings.week && !this.intl.strings.weeks) {\n      const days = Math.round(Math.abs(now - then) / (1000 * 60 * 60 * 24));\n      value = days;\n      unit = 'day';\n    }\n\n    /** create a normalize function for given value */\n    const normalize = this.normalizeFn(value, now - then, this.intl.strings.numbers);\n\n    /** The eventual return value stored in an array so that the wordSeparator can be used */\n    const dateString: string[] = [];\n\n    /** handle prefixes */\n    if (suffix === 'ago' && this.intl.strings.prefixAgo) {\n      dateString.push(normalize(this.intl.strings.prefixAgo));\n    }\n    if (suffix === 'from now' && this.intl.strings.prefixFromNow) {\n      dateString.push(normalize(this.intl.strings.prefixFromNow));\n    }\n\n    /** Handle Main number and unit */\n    const isPlural = value > 1;\n    if (isPlural) {\n      const stringFn: StringOrFn = this.intl.strings[unit + 's'] || this.intl.strings[unit] || '%d ' + unit;\n      dateString.push(normalize(stringFn));\n    } else {\n      const stringFn: StringOrFn = this.intl.strings[unit] || this.intl.strings[unit + 's'] || '%d ' + unit;\n      dateString.push(normalize(stringFn));\n    }\n\n    /** Handle Suffixes */\n    if (suffix === 'ago' && this.intl.strings.suffixAgo) {\n      dateString.push(normalize(this.intl.strings.suffixAgo));\n    }\n    if (suffix === 'from now' && this.intl.strings.suffixFromNow) {\n      dateString.push(normalize(this.intl.strings.suffixFromNow));\n    }\n\n    /** join the array into a string and return it */\n    const wordSeparator = typeof this.intl.strings.wordSeparator === 'string' ? this.intl.strings.wordSeparator : ' ';\n    return dateString.join(wordSeparator);\n  }\n\n  /**\n   * If the numbers array is present, format numbers with it,\n   * otherwise just cast the number to a string and return it\n  */\n  private normalizeNumber(numbers: NumberArray, value: number) {\n    return numbers && numbers.length === 10\n      ? String(value).split('')\n          .map((digit: string) => digit.match(/^[0-9]$/) ? numbers[parseInt(digit, 10)] : digit)\n          .join('')\n      : String(value);\n  }\n\n  /**\n   * Take a string or a function that takes number of days and returns a string\n   * and provide a uniform API to create string parts\n  */\n  private normalizeFn(value: number, millisDelta: number, numbers?: NumberArray) {\n    return (stringOrFn: StringOrFn) =>\n      typeof stringOrFn === 'function'\n      ? stringOrFn(value, millisDelta).replace(/%d/g, this.normalizeNumber(numbers, value))\n      : stringOrFn.replace(/%d/g, this.normalizeNumber(numbers, value));\n  }\n}\n","import { Directive, Input, ElementRef, Optional, OnChanges, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { Subscription, Subject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { TimeagoClock } from './timeago.clock';\nimport { TimeagoFormatter } from './timeago.formatter';\nimport { TimeagoIntl } from './timeago.intl';\nimport { isDefined, coerceBooleanProperty, dateParser } from './util';\n\n@Directive({\n  selector: '[timeago]',\n  exportAs: 'timeago',\n})\nexport class TimeagoDirective implements OnChanges, OnDestroy {\n  private intlSubscription: Subscription;\n  private clockSubscription: Subscription;\n\n  /**\n   * Emits on:\n   * - Input change\n   * - Intl change\n   * - Clock tick\n  */\n  stateChanges = new Subject<any>();\n\n  /** The Date to display. An actual Date object or something that can be fed to new Date. */\n  @Input()\n  get date(): any {\n    return this._date;\n  }\n  set date(date: any) {\n    this._date = dateParser(date).valueOf();\n    if (this._date) {\n      if (this.clockSubscription) {\n        this.clockSubscription.unsubscribe();\n        this.clockSubscription = undefined;\n      }\n      this.clockSubscription = this.clock.tick(this.date)\n        .pipe(filter(() => this.live, this))\n        .subscribe(() => this.stateChanges.next());\n    } else {\n      throw new SyntaxError(`Wrong parameter in TimeagoDirective. Expected a valid date, received: ${date}`);\n    }\n  }\n  private _date: number;\n\n  /** If the directive should update itself over time */\n  @Input()\n  get live(): boolean {\n    return this._live;\n  }\n  set live(live: boolean) {\n    this._live = coerceBooleanProperty(live);\n  }\n  private _live = true;\n\n  constructor(@Optional() intl: TimeagoIntl,\n              private cd: ChangeDetectorRef,\n              formatter: TimeagoFormatter,\n              element: ElementRef,\n              private clock: TimeagoClock) {\n    if (intl) {\n      this.intlSubscription = intl.changes.subscribe(() => this.stateChanges.next());\n    }\n    this.stateChanges.subscribe(() => {\n      this.setContent(element.nativeElement, formatter.format(this.date));\n      this.cd.markForCheck();\n    });\n  }\n\n  ngOnChanges() {\n    this.stateChanges.next();\n  }\n\n  setContent(node: any, content: string) {\n    if (isDefined(node.textContent)) {\n      node.textContent = content;\n    } else {\n      node.data = content;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.intlSubscription) {\n      this.intlSubscription.unsubscribe();\n      this.intlSubscription = undefined;\n    }\n    if (this.clockSubscription) {\n      this.clockSubscription.unsubscribe();\n      this.clockSubscription = undefined;\n    }\n    this.stateChanges.complete();\n  }\n}\n","import { Injectable, OnDestroy, Pipe, PipeTransform, Optional, ChangeDetectorRef } from '@angular/core';\nimport { Subscription, Subject } from 'rxjs';\nimport { TimeagoClock } from './timeago.clock';\nimport { TimeagoFormatter } from './timeago.formatter';\nimport { TimeagoIntl } from './timeago.intl';\nimport { isDefined, coerceBooleanProperty, dateParser } from './util';\nimport { filter } from 'rxjs/operators';\n\n@Injectable()\n@Pipe({\n  name: 'timeago',\n  pure: false, // required to update the value when stateChanges emits\n})\nexport class TimeagoPipe implements PipeTransform, OnDestroy {\n  private intlSubscription: Subscription;\n  private clockSubscription: Subscription;\n\n  private date: number;\n  private value: string;\n  private live = true;\n\n  /**\n   * Emits on:\n   * - Input change\n   * - Intl change\n   * - Clock tick\n  */\n  stateChanges = new Subject<void>();\n\n  constructor(@Optional() intl: TimeagoIntl,\n    cd: ChangeDetectorRef,\n    formatter: TimeagoFormatter,\n    private clock: TimeagoClock) {\n    if (intl) {\n      this.intlSubscription = intl.changes.subscribe(() => this.stateChanges.next());\n    }\n    this.stateChanges.subscribe(() => {\n      this.value = formatter.format(this.date);\n      cd.markForCheck();\n    });\n  }\n\n  transform(date: any, ...args: any[]) {\n    const _date = dateParser(date).valueOf();\n    let _live: boolean;\n\n    _live = isDefined(args[0])\n      ? coerceBooleanProperty(args[0])\n      : this.live;\n\n    if (this.date === _date && this.live === _live) {\n      return this.value;\n    }\n\n    this.date = _date;\n    this.live = _live;\n\n    if (this.date) {\n      if (this.clockSubscription) {\n        this.clockSubscription.unsubscribe();\n        this.clockSubscription = undefined;\n      }\n      this.clockSubscription = this.clock.tick(this.date)\n        .pipe(filter(() => this.live, this))\n        .subscribe(() => this.stateChanges.next());\n      this.stateChanges.next();\n    } else {\n      throw new SyntaxError(`Wrong parameter in TimeagoPipe. Expected a valid date, received: ${date}`);\n    }\n\n    return this.value;\n  }\n\n  ngOnDestroy() {\n    if (this.intlSubscription) {\n      this.intlSubscription.unsubscribe();\n      this.intlSubscription = undefined;\n    }\n    if (this.clockSubscription) {\n      this.clockSubscription.unsubscribe();\n      this.clockSubscription = undefined;\n    }\n    this.stateChanges.complete();\n  }\n}\n","import { NgModule, ModuleWithProviders, Provider } from '@angular/core';\nimport { TimeagoDirective } from './timeago.directive';\nimport { TimeagoPipe } from './timeago.pipe';\nimport { TimeagoClock, TimeagoDefaultClock } from './timeago.clock';\nimport { TimeagoFormatter, TimeagoDefaultFormatter } from './timeago.formatter';\n\nexport interface TimeagoModuleConfig {\n  clock?: Provider;\n  intl?: Provider;\n  formatter?: Provider;\n}\n\n@NgModule({\n  declarations: [\n    TimeagoDirective,\n    TimeagoPipe,\n  ],\n  exports: [\n    TimeagoDirective,\n    TimeagoPipe,\n  ],\n})\nexport class TimeagoModule {\n  /**\n   * Use this method in your root module to provide the TimeagoModule\n   */\n  static forRoot(config: TimeagoModuleConfig = {}): ModuleWithProviders<TimeagoModule> {\n    return {\n      ngModule: TimeagoModule,\n      providers: [\n        config.clock || {provide: TimeagoClock, useClass: TimeagoDefaultClock},\n        config.intl || [],\n        config.formatter || {provide: TimeagoFormatter, useClass: TimeagoDefaultFormatter},\n      ],\n    };\n  }\n\n  /**\n   * Use this method in your other (non root) modules to import the directive/pipe\n   */\n  static forChild(config: TimeagoModuleConfig = {}): ModuleWithProviders<TimeagoModule> {\n    return {\n      ngModule: TimeagoModule,\n      providers: [\n        config.clock || {provide: TimeagoClock, useClass: TimeagoDefaultClock},\n        config.intl || [],\n        config.formatter || {provide: TimeagoFormatter, useClass: TimeagoDefaultFormatter},\n      ],\n    };\n  }\n}\n"]}